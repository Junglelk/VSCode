# 抽象类和接口

## 抽象类和抽象方法

抽象类

* 是对某一高度凝练的概念的建模。比如：几何图形这一类，其有面积有周长，是一个二维的图形，但没有一个实例去表现。抽象类不可创建对象。表现在Java代码里就是抽象类声明为“修饰符  abstract class 类名”例如：public abstract GeometricObject。
  
抽象方法

* 抽象类表达的某些共性，但又根据具体实例的不同有所区别的方法。比如计算面积和周长的方法。抽象方法在抽象类定义中定义，但不实现，实现在子类中。

一个包含抽象方法的类必须声明为抽象类。
在UML图中，用“ # ”表示protected修饰符，protected修饰符允许位于任何包中的子类或同一包中的类访问该类的成员。抽象类名和抽象方法名用斜体表示。

在抽象类中定义抽象方法而不是仅在子类中定义的好处：使代码更具可读性。
详见TestGeometricObject.java

抽象类的几点说明：

* 抽象方法不能包含在非抽象类中。父类的抽象方法若不能彻底在子类中实现，则子类必须声明为抽象的，并在子类的子类中实现抽象方法。抽象方法不能是静态的；
* 抽象类不能用new初始化一个实例，但仍可定义构造方法，供子类调用；
* 包含抽象方法的类必须是抽象的，但抽象类不一定必须有抽象方法；
* 子类可重写父类的方法并定义为抽象的。少见但在父类的方法定义在子类中失效时可用，此时子类必须为抽象的，因为上一条限制。
* 父类是具体的，子类也可以是抽象的。
* 不能使用new操作符创一个抽象实例，但抽象类可以用作一种数据类型。例如：
  
  * ```java
    GeometricObject[] object = new GeometricObject[10];
    object[0] = Circle(5);
    //这样可以创建包含不同实例的Geometric的子类
    ```

## 接口interface

>接口与类相似，用于给对象定义共同的操作

接口在很多方面和抽象类相似，但接口用于指明相关或不相关类的对象的共同行为。
抽象类是定义在抽象的定义上，对某一个抽象事物的描述。接口是对对象的共同属性的指明。假如几何图形是个抽象类，圆和矩形是继承自几何图形的子类。它们有面积、周长等几何图形共有的属性。这是抽象类的作用。假设几何图形、家禽、水果、家用电器个是一个类，接口是描述其各自之间有无联系的事物，家禽、水果的对象可以由“可食用”来指明；几何图形和家电可以由“不可食”用来指明。

```java
//定义接口
修饰符 interface InterfaceName{
  /*常量声明*/
  /*抽象方法签名*/
}

//例
public interface Edible{
  /*描述吃法*/
  public abstract String howToEat();
}
```

Java中，接口被视为特殊的类，每个接口都被单独编译为独立的字节码文件。接口使用和抽象类多少有些类似，例如可以使用接口作为引用变量的数据类型或类型转换的结果等。也不可以用new创建接口实例。
可以使用Edible来指定一个对象能不能吃。使用implements关键字让对象所属的类实现这个接口。
类和接口之间的关系称为*接口继承* *(interface inheritance)*。简称为*继承* *(inheritance)*，此继承和类继承本质上一致。

接口中数据域修饰符均为public static final，方法修饰符均为public abstract，所以有以下：

```java
public interface T{
  public static final int k = 1;
  public abstract void P();
}
//与
public interface T{
  int k = 1;
  void P();
}
//等价
```

## 接口与抽象类

||变量|构造方法|方法|
|----|----|----|----|
|抽象类   |无限制|子类通过构造方法链调用构造方法，抽象类不能用new操作符实例化|无限制|
|接口   |所有变量必须是public static final|没有构造方法。接口不能用new操作符实例化|可以包含public的抽象实例方法、public的默认方法以及public的静态方法|

>一个类可以实现多个接口，但是只能继承一个父类

* 类继承只能单一继承；接口继承可以多重继承；
  
  * ```java
    public class NewClass extends BaseClass implement interface1, ...,interfaceN{

    }
    ```

* 利用extends关键字，接口可继承接口。
  
  * ```java
    public interface NewInterface extends interface1, ...,interfaceN{

    }
    ```

### 示例学习：Rational类

>有理数类，有理数是可以采用分子和分母以a/b表达，这里a是分子，b是分母。

```java
public class Rational extends Number implements Comparable<Rational> {
  //仅写出类头，注意，继承的父类和接口必须实现其抽象方法
}
```
